#!/bin/bash

# Get the currently focused application
ACTIVE_APP=$(osascript -e 'tell application "System Events" to get name of first application process whose frontmost is true')

if [[ "$ACTIVE_APP" == "Code" ]] || [[ "$ACTIVE_APP" == "Visual Studio Code" ]]; then
    code --wait "$@"
elif [[ "$ACTIVE_APP" == "Cursor" ]]; then
    cursor -w "$@"
elif [[ "$ACTIVE_APP" == "Ghostty" ]] || [[ "$ACTIVE_APP" == "WezTerm" ]] || [[ "$ACTIVE_APP" == "Warp" ]] || [[ "$ACTIVE_APP" == "Terminal" ]]; then
    nvim "$@"
else
    code -w "$@"
fi
